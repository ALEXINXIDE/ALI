class DynamicYields{constructor(){this.dySyncCart()}dyAddtoCart(){(async()=>this.getCart().then(cart=>{const dyCart=[];cart.item_count>0&&cart.items.forEach(item=>{item.line_price>0&&dyCart.push({productId:item.sku,quantity:item.quantity,itemPrice:parseFloat(item.line_price/100)})}),dyCart.length>0&&DY.API("event",{name:"Add to Cart",properties:{dyType:"add-to-cart-v1",value:dyCart[0].itemPrice,currency:currencyCode,productId:dyCart[0].productId,quantity:1,cart:dyCart}})}))()}dySyncCart(){(async()=>this.getCart().then(cart=>{const dyCart=[];cart.item_count>0&&(cart?.items?.forEach(item=>{item.line_price>0&&dyCart.push({productId:item.sku,quantity:item.quantity,itemPrice:parseFloat(item.line_price/100)})}),DY.API("event",{name:"Sync cart",properties:{dyType:"sync-cart-v1",currency:currencyCode,cart:dyCart}}))}))()}dyRemoveFromCart(dyItemRemovedIndex){(async()=>this.getCart().then(cart=>{const dyCart=[],removeItem=[];if(cart.item_count>0){let count=1;cart?.items?.forEach(item=>{item.line_price>0&&(count===parseInt(dyItemRemovedIndex)?removeItem.push({productId:item.sku,quantity:item.quantity,itemPrice:parseFloat(item.line_price/100)}):dyCart.push({productId:item.sku,quantity:item.quantity,itemPrice:parseFloat(item.line_price/100)})),count=count+1})}DY.API("event",{name:"Remove from Cart",properties:{dyType:"remove-from-cart-v1",value:removeItem[0].itemPrice,currency:currencyCode,productId:removeItem[0].productId,quantity:removeItem[0].quantity,cart:dyCart}})}))()}async getCart(){try{const response=await fetch("/cart.js");if(!response.ok)throw new Error("Network response was not ok");return await response.json()}catch(error){console.error("There has been a problem with your fetch operation:",error)}}}window.dynamicYields=new DynamicYields;
//# sourceMappingURL=/cdn/shop/t/748/assets/dynamicYields.js.map?v=177101246231521392021735264036
